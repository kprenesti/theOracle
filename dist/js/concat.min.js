var app=angular.module("app",["ui.router"]).config(["$stateProvider","$urlRouterProvider",function(t,e){e.otherwise("/"),t.state("home",{url:"/",templateUrl:"templates/wiki.html",controller:"mainCntrl as main"}).state("results",{url:"/results",templateUrl:"templates/results.html",controller:"resultsCntrl as resultCntrl"}).state("articleView",{url:"/article",templateUrl:"templates/article.html",controller:"articleCntrl as article"})}]);angular.module("app").service("httpSvc",["$http","$q",function(t,e){var r=this;return r.searchAPI=function(r){var a=e.defer(),s="https://en.wikipedia.org/w/api.php?format=json&action=query&generator=search&gsrnamespace=0&gsrlimit=10&prop=pageimages|extracts&pilimit=max&exintro&explaintext&exsentences=2&exlimit=max&gsrsearch=",l="&callback=JSON_CALLBACK";return t.jsonp(s+r+l).then(function(t){a.resolve(t.data)}.bind(this),function(t){a.reject({error:t.data,status:t.status})}),a.promise},r}]).service("setData",[function(){var t=this;return t.list=[],t.storeData=function(e){return e.forEach(function(e){t.list.push(e)}),t.list},t.getData=function(){console.log("From setter.getData: ",t.list)},t}]),app.controller("articleCntrl",["results",function(t){var e=this;e.listData=t.returnResults(),console.log("From the articleCntrl: ",e.list)}]),app.controller("mainCntrl",["$http","httpSvc","setData","$state",function(t,e,r,a){var s=this;s.submitForm=function(t){e.searchAPI(t).then(function(t){var e=[],a=t.query.pages;for(var s in a)e.push(a[s]);r.storeData(e)}),a.go("results")},s.getRandom=function(){a.go("articleView")}}]),angular.module("app").controller("resultsCntrl",["$state","setData",function(t,e){var r=this;r.results=e.getData(),console.log("From the resultsCntrl: ",r.results)}]);