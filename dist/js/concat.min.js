var app=angular.module("app",["ui.router"]).config(["$stateProvider","$urlRouterProvider",function(t,e){e.otherwise("/"),t.state("home",{url:"/",templateUrl:"templates/search.html",controller:"mainCntrl as main"}).state("results",{url:"/results",templateUrl:"templates/results.html",controller:"resultsCntrl as results"}).state("articleView",{url:"/article",templateUrl:"templates/article.html",controller:"articleCntrl as article"})}]);angular.module("app").service("httpSvc",["$http","$q",function(t,e){var r=this;return r.searchAPI=function(r){var a=e.defer(),l="https://en.wikipedia.org/w/api.php?format=json&action=query&generator=search&gsrnamespace=0&gsrlimit=10&prop=pageimages|extracts&pilimit=max&exintro&explaintext&exsentences=2&exlimit=max&gsrsearch=",s="&callback=JSON_CALLBACK";return t.jsonp(l+r+s).then(function(t){a.resolve(t.data)}.bind(this),function(t){a.reject({error:t.data,status:t.status})}),a.promise},r}]),angular.module("app").factory("setData",function(){return{storeData:function(t){var e=t.query.pages;this.articles=[];for(prop in e)this.articles.push(e[prop]);return this.articles}}}),app.controller("articleCntrl",["results",function(t){var e=this;e.listData=t.returnResults(),console.log("From the articleCntrl: ",e.list)}]),app.controller("mainCntrl",["$http","httpSvc","setData","$state",function(t,e,r,a){var l=this;l.submitForm=function(t){e.searchAPI(t).then(function(t){r.storeData(t),console.log(r.articles)}),a.go("results")},l.getRandom=function(){a.go("articleView")}}]),angular.module("app").controller("resultsCntrl",["$state","setData",function(t,e){var r=this;r.data=e,r.articles=r.data.articles,console.log(r.articles)}]);